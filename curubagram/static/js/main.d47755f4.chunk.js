(this["webpackJsonpcurubagram-frontend"]=this["webpackJsonpcurubagram-frontend"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/feather.b7a1b523.png"},26:function(e,t,a){e.exports=a.p+"static/media/tick.14662814.png"},28:function(e,t,a){e.exports=a(59)},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),s=(a(33),a(34),a(11)),i=a.n(s),l=a(24),d=a(3),h=a(4),u=a(7),m=a(6),p=a(5),g=(a(36),a(37),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){var t=e.target.textContent;n.props.onTextChange(t),n.handlePlaceholderVisibility(t)},n.handlePlaceholderVisibility=function(e){var t=!1;""===e&&(t=!0),n.props.onPlaceholderChange(t)},n.state={},n}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=document.getElementById("content-box");a.focus();var n=this.props.text.length;if(console.log("Text Length: "+n),n>0){var r=a.firstChild,o=document.createRange();o.setStart(r,n),o.setEnd(r,n);var c=window.getSelection();c.removeAllRanges(),c.addRange(o)}}},{key:"render",value:function(){var e,t=this.props.showPlaceholder,a=this.props.text;return e=t?r.a.createElement("p",{className:"document-content-placeholder"},"Escribe o pega (Windows/Linux: Ctrl+V. macOS: cmd+V) tu texto aqu\xed."):r.a.createElement("p",{className:"document-content-placeholder"}),r.a.createElement("div",{className:"document-content-full-height"},e,r.a.createElement("div",{id:"content-box",className:"document-content-bg",contentEditable:"true",spellCheck:"false",onInput:this.handleTextChange},a))}}]),a}(r.a.Component)),f=a(25),v=a.n(f),b=a(26),E=a.n(b),C=(a(38),a(8)),w=a(9),x=a(27),N=a.n(x).a.create({baseURL:"http://52.27.16.14:5000/",responseType:"json"}),y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"dc-placeholder-container"},r.a.createElement("img",{src:v.a,className:"dc-placeholder-img",alt:"Feather"}),r.a.createElement("div",{className:"dc-placeholder-title"},"Nada para corregir a\xfan"),r.a.createElement("div",{className:"text-center"},"Escribe algo para recibir retroalimentaci\xf3n de Curubagram."),r.a.createElement("div",{className:"dc-placeholder-ref"},"Icons made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik",target:"_blank",rel:"noopener noreferrer"},"Freepik")," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noopener noreferrer"},"www.flaticon.com")))}}]),a}(r.a.Component),O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"dc-placeholder-container"},r.a.createElement("img",{src:E.a,className:"dc-placeholder-img",alt:"Feather"}),r.a.createElement("div",{className:"dc-placeholder-title"},"No se encontraron problemas"),r.a.createElement("div",{className:"text-center"},"No encontramos errores en tu texto. Verifica de nuevo cuando est\xe9s listo para escribir algo m\xe1s."),r.a.createElement("div",{className:"dc-placeholder-ref"},"Icons made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/kiranshastry",title:"Kiranshastry",target:"_blank",rel:"noopener noreferrer"},"Kiranshastry")," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noopener noreferrer"},"www.flaticon.com")))}}]),a}(r.a.Component),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).logEvent=function(e){var t=n.props.originalWord,a=n.props.suggestion;N.post("/log_event",{original_text:t,suggestion:a,event_type:e})},n.handleCardDismiss=function(){var e=n.props.originalWord;n.props.onWordsIgnoredChange(e),n.logEvent("card_dismiss")},n.handleAcceptSuggestion=function(){var e=n.props.originalWord,t=n.props.suggestion;n.props.onAcceptSuggestion(e,t),n.logEvent("card_accept_suggestion")},n.handleAddWordToDict=function(){var e=n.props.originalWord;n.props.onWordsIgnoredChange(e),n.logEvent("card_add_to_dict")},n.state={},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.originalWord,t=this.props.suggestion;return r.a.createElement("div",{className:"card-bg"},r.a.createElement("div",null,r.a.createElement("span",{className:"card-original-word"},r.a.createElement("span",null,e)),r.a.createElement(C.a,{icon:w.a,className:"card-arrow"}),r.a.createElement("span",{className:"card-suggestion",onClick:this.handleAcceptSuggestion},t)),r.a.createElement("div",{className:"card-description"},"La palabra ",r.a.createElement("strong",null,e)," no est\xe1 en nuestro diccionario. Si est\xe1s seguro que la palabra est\xe1 bien escrita, la puedes agregar a tu diccionario personal y as\xed evitar futuras correcciones equivocadas."),r.a.createElement("div",null,r.a.createElement("span",{className:"card-add-dictionary",onClick:this.handleAddWordToDict},r.a.createElement(C.a,{icon:w.b,className:"card-add-dictionary-icon"}),"Agregar al diccionario"),r.a.createElement("span",{className:"card-discard",onClick:this.handleCardDismiss},r.a.createElement(C.a,{icon:w.c}))))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCardDismiss=function(e){n.props.onWordsIgnoredChange(e)},n.handleAcceptSuggestion=function(e,t){var a=n.props.text;a=a.replace(e,t),n.props.onTextChange(a)},n.state={},n}return Object(h.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.showPlaceholder,n=this.props.corrections,o=Object.keys(n);return console.log(n),e=a?r.a.createElement(y,null):o.length>0?o.map((function(e){return r.a.createElement(j,{originalWord:e,suggestion:n[e],onWordsIgnoredChange:t.handleCardDismiss,onAcceptSuggestion:t.handleAcceptSuggestion})})):r.a.createElement(O,null),r.a.createElement("div",{className:"dc-bg"},e)}}]),a}(r.a.Component),_=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handlePlaceholderVisibility=function(e){n.setState({showPlaceholder:e})},n.filterCorrections=function(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a},n.handleCorrections=function(e){var t=n.filterCorrections(e,n.state.words_ignored);n.setState({corrections:t})},n.handleWordsIgnored=function(e){var t=n.state.words_ignored;t.push(e);var a=n.filterCorrections(n.state.corrections,t);n.setState({corrections:a,words_ignored:t})},n.state={corrections:{},showPlaceholder:!0,words_ignored:[],text:""},n.handleTextChange=n.handleTextChange.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"handleTextChange",value:function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({text:t}),a=t[t.length-1],!/\s/.test(a)){e.next=8;break}return e.next=5,N.post("/get_corrections",{text:t});case 5:n=e.sent,r=n.data.spell_problems,this.handleCorrections(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.corrections,t=this.state.showPlaceholder,a=this.state.text;return console.dir(this.state),r.a.createElement("div",{className:"container-fluid full-height"},r.a.createElement("div",{className:"row full-height"},r.a.createElement("div",{className:"col-sm-8 full-height"},r.a.createElement("div",{className:"main-box"},r.a.createElement("div",{className:"main-box-title"},"CURUBAGRAM"),r.a.createElement("div",null,"Corrige tus errores ortogr\xe1ficos, de gramatica y de puntuaci\xf3n.")),r.a.createElement(g,{showPlaceholder:t,onCorrectionChange:this.handleCorrections,onPlaceholderChange:this.handlePlaceholderVisibility,onTextChange:this.handleTextChange,text:a})),r.a.createElement("div",{className:"col-sm-4 full-height"},r.a.createElement(k,{showPlaceholder:t,corrections:e,text:a,onWordsIgnoredChange:this.handleWordsIgnored,onTextChange:this.handleTextChange}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d47755f4.chunk.js.map